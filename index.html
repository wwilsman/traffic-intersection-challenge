<html>
  <head>
    <title>Traffic Intersection</title>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <style>
     /* super simple "reset" */
     *, *::before, *::after { margin: 0; padding: 0; position: relative; }
     html, body, #intersection { width: 100%; height: 100%; }
    </style>
  </head>
  <body>
    <svg id="intersection" viewBox="0 0 1000 1000" preserveAspectRatio="xMidYMid slice">
      <style>
       /* CSS transform uses object origin instead of SVG origin */
       .rotate-90 { transform: rotate(90deg); }
       .rotate-180 { transform: rotate(180deg); }
       .rotate-270 { transform: rotate(270deg); }
      </style>
      <defs>
        <pattern id="p-sidewalk" x="0" y="0" width="0.1" height="0.1">
          <rect x="0" y="0" width="30" height="30" fill="rgb(0,120,180)"/>
          <path d="M 30 0 L 0 0 0 30" fill="none" stroke="rgba(0,0,0,0.2)" stroke-width="1"/>
        </pattern>

        <pattern id="p-walkway" x="0" y="0" width="0.038" height="1">
          <rect x="8" y="0" width="6" height="30" fill="white"/>
        </pattern>

        <symbol id="road-arrow-l" viewBox="0 0 20 20">
          <path d="M 8 6
                   L 8 0 0 9 8 18 8 12 10 12
                   C 14 12, 14 16, 14 16
                   L 14 20 20 20 20 16
                   C 20 6, 14 6, 10 6"
                fill="white"/>
        </symbol>

        <symbol id="road-arrow-r" viewBox="0 0 20 20">
          <use href="#road-arrow-l" width="20" height="20"
               transform="translate(20, 0) scale(-1, 1)"/>
        </symbol>

        <symbol id="road-lines" viewBox="0 0 400 400">
          <rect x="0" y="0" width="400" height="30" fill="url(#p-walkway)"/>
          <path d="M 137 52 l 263 0" fill="none" stroke="white" stroke-width="8"/>
          <path d="M 130 300 l 0 -250 c 0 -6, 6 -6, 6 0 l 0 250"
                fill="none" stroke="rgb(200,200,0)" stroke-width="3"/>
          <path d="M 65 300 l 0 -240" fill="none" stroke="white" stroke-width="3" stroke-dasharray="20 20"/>
          <path d="M 203 300 l 0 -250" fill="none" stroke="white" stroke-width="3"/>
          <path d="M 268 300 l 0 -250" fill="none" stroke="white" stroke-width="3"/>
          <path d="M 333 300 l 0 -250" fill="none" stroke="white" stroke-width="3"/>
          <use href="#road-arrow-l" x="155" y="100" width="22" height="22"/>
          <use href="#road-arrow-l" x="155" y="200" width="22" height="22"/>
          <use href="#road-arrow-r" x="360" y="100" width="22" height="22"/>
          <use href="#road-arrow-r" x="360" y="200" width="22" height="22"/>
        </symbol>
      </defs>

      <rect id="bg" x="0" y="0" width="1000" height="1000" fill="rgb(26,70,133)"/>
      <rect id="sidewalk-0" x="0" y="0" width="300" height="300" fill="url(#p-sidewalk)"/>
      <rect id="plot-0" x="0" y="0" width="270" height="270" fill="rgb(126,145,107)"/>
      <rect id="sidewalk-1" x="700" y="0" width="300" height="300" fill="url(#p-sidewalk)"/>
      <rect id="plot-1" x="730" y="0" width="270" height="270" fill="rgb(126,145,107)"/>
      <rect id="sidewalk-2" x="0" y="700" width="300" height="300" fill="url(#p-sidewalk)"/>
      <rect id="plot-2" x="0" y="730" width="270" height="270" fill="rgb(126,145,107)"/>
      <rect id="sidewalk-3" x="700" y="700" width="300" height="300" fill="url(#p-sidewalk)"/>
      <rect id="plot-3" x="730" y="730" width="270" height="270" fill="rgb(126,145,107)"/>

      <use href="#road-lines" x="300" y="700" width="400" height="400"/>
      <use href="#road-lines" x="0" y="300" width="400" height="400" transform="rotate(90 150 450)"/>
      <use href="#road-lines" x="700" y="300" width="400" height="400" transform="rotate(-90 900 500)"/>
      <use href="#road-lines" x="300" y="0" width="400" height="400" transform="rotate(180 500 150)"/>
    </svg>

    <script src="./index.js"></script>
  </body>
</html>
